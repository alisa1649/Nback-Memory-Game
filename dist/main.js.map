{"version":3,"sources":["webpack://js_project_skeleton/./index.html","webpack://js_project_skeleton/webpack/bootstrap","webpack://js_project_skeleton/webpack/runtime/make namespace object","webpack://js_project_skeleton/webpack/runtime/publicPath","webpack://js_project_skeleton/./src/index.js"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","r","Symbol","toStringTag","Object","defineProperty","value","p","require","nextBlockInterval","nextBlockTimeout","nextCountdownTimeout","$","document","querySelector","bind","$$","querySelectorAll","score","history","nBackLevel","parseInt","selectedOptions","split","currentBlockIteration","recentlyMatched","activateNextBlock","stopGame","gridIndex","Math","floor","random","previous","classList","remove","active","window","setTimeout","console","log","checkIsMatch","deductFromScore","className","push","switchPlayButton","toggle","updateScore","innerHTML","add","matchLookback","isMatch","length","addEventListener","modal","show","close","toggleModal","event","target","shrinkCountdown","newNum","setAttribute","startCountdownAnimation","setInterval","transitionTimeSeconds","innerText","clearInterval","clearTimeout","forEach","cell"],"mappings":"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","file":"main.js","sourcesContent":["export default __webpack_public_path__ + \"index.html\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/dist/\";","import \"./styles/index.scss\";\nrequire('file-loader?name=[name].[ext]!../index.html');\nconst $ = document.querySelector.bind(document);\nconst $$ = document.querySelectorAll.bind(document);\n\nconst iterationsPerGame = 20;\n\nlet score = 0;\nlet history = [];\nlet nBackLevel = parseInt($('.n-size-container').selectedOptions[0].value.split(\"=\")[1]);\nlet currentBlockIteration = 0;\n\nlet nextBlockInterval;\nlet nextBlockTimeout;\nlet nextCountdownTimeout;\n\nlet recentlyMatched = false;\n\n// =============================================\n// Game Grid Animation\n// =============================================\n\nfunction activateNextBlock() {\n  if (currentBlockIteration >= iterationsPerGame) {\n    stopGame();\n    return;\n  }\n  currentBlockIteration += 1;\n\n  const gridIndex = Math.floor(Math.random() * 1);\n  const previous = document.querySelector(\".grid-cell.active\")\n  if (previous) {\n    previous.classList.remove(\"active\");\n  }\n  const active = document.querySelector(`.grid-cell-${gridIndex}`);\n  nextBlockTimeout = window.setTimeout(() => {\n    checkForMissedMatch();\n    recentlyMatched = false;\n    active.className += \" active\"\n    history.push(gridIndex);\n  }, 1000);\n}\n\nfunction switchPlayButton() {\n  $('#play').classList.toggle('hidden');\n  $('#stop').classList.toggle('hidden');\n}\n\nfunction startGame() {\n  score = 0;\n  activateNextBlock();\n  nextBlockInterval = window.setInterval(() => {\n    activateNextBlock();\n  }, 2000)\n}\n\n\n// =============================================\n// Player Input\n// =============================================\n\nconst updateScore = () => {\n  $(\".score-container-number\").innerHTML = score;\n};\n\nfunction addToScore() {\n  score += 2;\n  updateScore();\n  $(\".interaction-container\").classList.add(\"success\");\n  window.setTimeout(() => {\n    $(\".interaction-container\").classList.remove(\"success\");\n  }, 100)\n}\n\nfunction deductFromScore() {\n  score -= 1;\n  updateScore();\n  $(\".interaction-container\").classList.add(\"fail\");\n  window.setTimeout(() => {\n    $(\".interaction-container\").classList.remove(\"fail\");\n  }, 100)\n}\n\nfunction checkIsMatch() {\n  const matchLookback = nBackLevel + 1;\n  const isEligible = history.length > nBackLevel;\n  const isMatch = (isEligible && history[history.length - 1] === history[history.length - matchLookback]);\n  console.log(\"Most recent: \" + history[history.length - 1]);\n  console.log(\"isMatch: \" + isMatch);\n  console.log(\"history: \" + history);\n  console.log(\"N Back Value: \" + history[history.length - matchLookback]);\n  console.log(\"matchLookback: \" + (matchLookback));\n  console.log(\"N Back Index: \" + (history.length - matchLookback));\n  return isMatch;\n}\n\n// Listen for match button click\nfunction receiveMatchClick() {\n  recentlyMatched = true;\n  const isMatch = checkIsMatch();\n\n\n  if (isMatch) {\n    console.log(\"Match!\")\n    addToScore();\n  }\n  else {\n    deductFromScore();\n  }\n}\n\nfunction checkForMissedMatch() {\n  console.log(\"Checking for missed match...\");\n  if (checkIsMatch() && !recentlyMatched) {\n    console.log(\"Deducting from score...\");\n    deductFromScore();\n  }\n}\n\n$(\"#match-button\").addEventListener(\"click\", receiveMatchClick);\n\n// =============================================\n// Instructions Modal Open and Close\n// =============================================\n\nlet modal = document.querySelector(\".modal\");\nlet show = document.querySelector(\".how-to-play-button\");\nlet close = document.querySelector(\".modal-close\");\n\nfunction toggleModal() {\n  modal.classList.toggle(\"show-modal\");\n}\nfunction windowOnClick(event) {\n  if (event.target === modal || event.target === close) {\n    toggleModal();\n  }\n}\n\nshow.addEventListener(\"click\", toggleModal);\nwindow.addEventListener(\"click\", windowOnClick);\n\n// =============================================\n// Play/Stop Game Button Functionality\n// =============================================\n\nconst transitionTimeSeconds = 1;\nconst shrinkCountdown = (newNum) => {\n  $(\".countdown\").setAttribute(\"style\", \"transition: none\");\n  $(\".countdown\").classList.remove(\"smaller\");\n  $(\".countdown-text\").innerHTML = \"\" + newNum;\n  window.setTimeout(() => {\n    $(\".countdown\").setAttribute(\"style\", `transition: font-size ${transitionTimeSeconds}s ease-in-out`);\n    $(\".countdown\").classList.add(\"smaller\");\n  }, 50);\n}\n\nconst startCountdownAnimation = () => {\n  switchPlayButton();\n  $(\".countdown\").classList.remove(\"hidden\");\n  $(\".grid-canvas\").classList.add(\"hidden\");\n  shrinkCountdown(3);\n  nextCountdownTimeout = window.setTimeout(() => {\n    shrinkCountdown(2);\n    nextCountdownTimeout = window.setTimeout(() => {\n      shrinkCountdown(1);\n      nextCountdownTimeout = window.setTimeout(() => {\n        $(\".countdown\").classList.add(\"hidden\");\n        startGame();\n      }, transitionTimeSeconds * 1000)\n    }, transitionTimeSeconds * 1000)\n  }, transitionTimeSeconds * 1000)\n}\n\nconst stopGame = () => {\n  $('.grid-canvas-score').innerText = \"Last Score: \" + score;\n  switchPlayButton();\n  $(\".grid-canvas\").classList.remove(\"hidden\");\n  $(\".countdown\").classList.add(\"hidden\");\n  score = 0;\n  currentBlockIteration = 0;\n  updateScore();\n  window.clearInterval(nextBlockInterval);\n  window.clearTimeout(nextBlockTimeout);\n  window.clearTimeout(nextCountdownTimeout);\n\n  $$('.grid-cell').forEach(cell => {\n    cell.classList.remove('active');\n  })\n}\n\n$(\".play-game-button\").addEventListener(\"click\", startCountdownAnimation);\n$(\"#play\").addEventListener(\"click\", startCountdownAnimation);\n$(\"#stop\").addEventListener(\"click\", stopGame);\n\n// =============================================\n// Game Setup\n// =============================================\n\nfunction updateNBackLevel() {\n  nBackLevel = parseInt($('.n-size-container').selectedOptions[0].value.split(\"=\")[1]);\n  console.log(nBackLevel);\n}\n\n$(\".n-size-container\").addEventListener(\"change\", updateNBackLevel);"],"sourceRoot":""}