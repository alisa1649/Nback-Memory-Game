{"version":3,"sources":["webpack://js_project_skeleton/./index.html","webpack://js_project_skeleton/webpack/bootstrap","webpack://js_project_skeleton/webpack/runtime/make namespace object","webpack://js_project_skeleton/webpack/runtime/publicPath","webpack://js_project_skeleton/./src/index.js"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","r","Symbol","toStringTag","Object","defineProperty","value","p","require","nextBlockInterval","nextBlockTimeout","nextCountdownTimeout","$","document","querySelector","bind","$$","querySelectorAll","score","history","nBackLevel","parseInt","selectedOptions","split","currentBlockIteration","recentlyMatched","gameInProgress","activateNextBlock","stopGame","gridIndex","Math","floor","random","previous","classList","remove","active","window","setTimeout","console","log","checkIsMatch","deductFromScore","className","push","switchPlayButton","toggle","updateScore","innerHTML","add","matchLookback","isMatch","length","addEventListener","modal","show","close","toggleModal","event","target","shrinkCountdown","newNum","setAttribute","startCountdownAnimation","setInterval","transitionTimeSeconds","innerText","clearInterval","clearTimeout","forEach","cell"],"mappings":"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","file":"main.js","sourcesContent":["export default __webpack_public_path__ + \"index.html\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/dist/\";","import \"./styles/index.scss\";\nrequire('file-loader?name=[name].[ext]!../index.html');\nconst $ = document.querySelector.bind(document);\nconst $$ = document.querySelectorAll.bind(document);\n\nconst iterationsPerGame = 20;\n\nlet score = 0;\nlet history = [];\nlet nBackLevel = parseInt($('.n-size-container').selectedOptions[0].value.split(\"=\")[1]);\nlet currentBlockIteration = 0;\n\nlet nextBlockInterval;\nlet nextBlockTimeout;\nlet nextCountdownTimeout;\n\nlet recentlyMatched = false;\nlet gameInProgress = false;\n\n// =============================================\n// Game Grid Animation\n// =============================================\n\nfunction activateNextBlock() {\n  if (currentBlockIteration >= iterationsPerGame) {\n    stopGame();\n    return;\n  }\n  currentBlockIteration += 1;\n\n  const gridIndex = Math.floor(Math.random() * 9);\n  const previous = document.querySelector(\".grid-cell.active\")\n  if (previous) {\n    previous.classList.remove(\"active\");\n  }\n  const active = document.querySelector(`.grid-cell-${gridIndex}`);\n  nextBlockTimeout = window.setTimeout(() => {\n    checkForMissedMatch();\n    recentlyMatched = false;\n    active.className += \" active\"\n    history.push(gridIndex);\n  }, 1000);\n}\n\nfunction switchPlayButton() {\n  $('#play').classList.toggle('hidden');\n  $('#play-text').classList.toggle('hidden');\n  $('#stop').classList.toggle('hidden');\n  $('#stop-text').classList.toggle('hidden');\n}\n\nfunction startGame() {\n  gameInProgress = true;\n  score = 0;\n  activateNextBlock();\n  nextBlockInterval = window.setInterval(() => {\n    activateNextBlock();\n  }, 2000)\n}\n\n// =============================================\n// Player Input\n// =============================================\n\nconst updateScore = () => {\n  $(\".score-container-number\").innerHTML = score;\n};\n\nfunction addToScore() {\n  score += 2;\n  updateScore();\n  $(\".interaction-container\").classList.add(\"success\");\n  window.setTimeout(() => {\n    $(\".interaction-container\").classList.remove(\"success\");\n  }, 100)\n}\n\nfunction deductFromScore() {\n  score -= 1;\n  updateScore();\n  $(\".interaction-container\").classList.add(\"fail\");\n  window.setTimeout(() => {\n    $(\".interaction-container\").classList.remove(\"fail\");\n  }, 100)\n}\n\nfunction checkIsMatch() {\n  const matchLookback = nBackLevel + 1;\n  const isEligible = history.length > nBackLevel;\n  const isMatch = (isEligible && history[history.length - 1] === history[history.length - matchLookback]);\n  console.log(\"Most recent: \" + history[history.length - 1]);\n  console.log(\"isMatch: \" + isMatch);\n  console.log(\"history: \" + history);\n  console.log(\"N Back Value: \" + history[history.length - matchLookback]);\n  console.log(\"matchLookback: \" + (matchLookback));\n  console.log(\"N Back Index: \" + (history.length - matchLookback));\n  return isMatch;\n}\n\n// Listen for match button click\nfunction receiveMatchClick() {\n  recentlyMatched = true;\n  const isMatch = checkIsMatch();\n\n\n  if (isMatch) {\n    console.log(\"Match!\")\n    addToScore();\n  }\n  else if (!isMatch && gameInProgress) {\n    deductFromScore();\n  }\n  console.log(\"GAME STARTED?\" + (gameInProgress));\n}\n\nfunction checkForMissedMatch() {\n  console.log(\"Checking for missed match...\");\n  if (checkIsMatch() && !recentlyMatched) {\n    console.log(\"Deducting from score...\");\n    deductFromScore();\n  }\n}\n\n$(\"#match-button\").addEventListener(\"click\", receiveMatchClick);\n\n// =============================================\n// Instructions Modal Open and Close\n// =============================================\n\nlet modal = document.querySelector(\".modal\");\nlet show = document.querySelector(\".how-to-play-button\");\nlet close = document.querySelector(\".modal-close\");\n\nfunction toggleModal() {\n  modal.classList.toggle(\"show-modal\");\n}\nfunction windowOnClick(event) {\n  if (event.target === modal || event.target === close) {\n    toggleModal();\n  }\n}\n\nshow.addEventListener(\"click\", toggleModal);\nwindow.addEventListener(\"click\", windowOnClick);\n\n// =============================================\n// Play/Stop Game Button Functionality\n// =============================================\n\nconst transitionTimeSeconds = 1;\nconst shrinkCountdown = (newNum) => {\n  $(\".countdown\").setAttribute(\"style\", \"transition: none\");\n  $(\".countdown\").classList.remove(\"smaller\");\n  $(\".countdown-text\").innerHTML = \"\" + newNum;\n  window.setTimeout(() => {\n    $(\".countdown\").setAttribute(\"style\", `transition: font-size ${transitionTimeSeconds}s ease-in-out`);\n    $(\".countdown\").classList.add(\"smaller\");\n  }, 50);\n}\n\nconst startCountdownAnimation = () => {\n  switchPlayButton();\n  $(\".countdown\").classList.remove(\"hidden\");\n  $(\".grid-canvas\").classList.add(\"hidden\");\n  shrinkCountdown(3);\n  nextCountdownTimeout = window.setTimeout(() => {\n    shrinkCountdown(2);\n    nextCountdownTimeout = window.setTimeout(() => {\n      shrinkCountdown(1);\n      nextCountdownTimeout = window.setTimeout(() => {\n        $(\".countdown\").classList.add(\"hidden\");\n        startGame();\n      }, transitionTimeSeconds * 1000)\n    }, transitionTimeSeconds * 1000)\n  }, transitionTimeSeconds * 1000)\n}\n\nconst stopGame = () => {\n  $('.grid-canvas-score').innerText = \"Last Score: \" + score;\n  switchPlayButton();\n  $(\".grid-canvas\").classList.remove(\"hidden\");\n  $(\".countdown\").classList.add(\"hidden\");\n  score = 0;\n  currentBlockIteration = 0;\n  updateScore();\n  window.clearInterval(nextBlockInterval);\n  window.clearTimeout(nextBlockTimeout);\n  window.clearTimeout(nextCountdownTimeout);\n\n  $$('.grid-cell').forEach(cell => {\n    cell.classList.remove('active');\n  })\n  gameInProgress = false;\n}\n\n$(\".play-game-button\").addEventListener(\"click\", startCountdownAnimation);\n$(\"#play\").addEventListener(\"click\", startCountdownAnimation);\n$(\"#stop\").addEventListener(\"click\", stopGame);\n\n// =============================================\n// Game Setup\n// =============================================\n\nfunction updateNBackLevel() {\n  nBackLevel = parseInt($('.n-size-container').selectedOptions[0].value.split(\"=\")[1]);\n  console.log(nBackLevel);\n}\n\n$(\".n-size-container\").addEventListener(\"change\", updateNBackLevel);"],"sourceRoot":""}